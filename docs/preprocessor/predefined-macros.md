---
title: Macros predefinidas
description: Enumera y describe las macros de preprocesador predefinidas del compilador de C++ de Microsoft.
ms.custom: update_every_version
ms.date: 06/08/2020
f1_keywords:
- _ATL_VER
- __ATOM__
- __AVX__
- __AVX2__
- __AVX512BW__
- __AVX512CD__
- __AVX512DQ__
- __AVX512F__
- __AVX512VL__
- _CHAR_UNSIGNED
- __CLR_VER
- _CONTROL_FLOW_GUARD
- __COUNTER__
- __cplusplus
- __cplusplus_cli
- __cplusplus_winrt
- _CPPRTTI
- _CPPUNWIND
- __DATE__
- _DEBUG
- _DLL
- __FILE__
- __FUNCDNAME__
- __FUNCSIG__
- __FUNCTION__
- _INTEGRAL_MAX_BITS
- _ISO_VOLATILE
- _KERNEL_MODE
- __LINE__
- _M_AMD64
- _M_ARM
- _M_ARM_ARMV7VE
- _M_ARM_FP
- _M_ARM64
- _M_CEE
- _M_CEE_PURE
- _M_CEE_SAFE
- _M_FP_EXCEPT
- _M_FP_FAST
- _M_FP_PRECISE
- _M_FP_STRICT
- _M_IX86
- _M_IX86_FP
- _M_X64
- _MANAGED
- _MFC_VER
- _MSC_BUILD
- _MSC_EXTENSIONS
- _MSC_FULL_VER
- _MSC_VER
- _MSVC_LANG
- __MSVC_RUNTIME_CHECKS
- _MT
- _NATIVE_WCHAR_T_DEFINED
- _NO_SIZED_DEALLOCATION
- _OPENMP
- _PREFAST_
- _RESUMABLE_FUNCTIONS_SUPPORTED
- _RTC_CONVERSION_CHECKS_ENABLED
- __STDC__
- __STDC_HOSTED__
- __STDCPP_THREADS__
- __TIME__
- __TIMESTAMP__
- __VA_ARGS__
- _VC_NODEFAULTLIB
- _WCHAR_T_DEFINED
- _WIN32
- _WIN64
- _WINRT_DLL
helpviewer_keywords:
- timestamps, preprocessor macro
- cl.exe compiler, version number
- version numbers, C/C++ compiler (cl.exe)
- macros, predefined C++
- preprocessor, macros
- predefined macros
- _ATL_VER macro
- __ATOM__ macro
- __AVX__ macro
- __AVX2__ macro
- __AVX512BW__ macro
- __AVX512CD__ macro
- __AVX512DQ__ macro
- __AVX512F__ macro
- __AVX512VL__ macro
- _CHAR_UNSIGNED macro
- __CLR_VER macro
- _CONTROL_FLOW_GUARD macro
- __COUNTER__ macro
- __cplusplus macro
- __cplusplus_cli macro
- __cplusplus_winrt macro
- _CPPRTTI macro
- _CPPUNWIND macro
- __DATE__ macro
- _DEBUG macro
- _DLL macro
- __FILE__ macro
- __FUNCDNAME__ macro
- __FUNCSIG__ macro
- __FUNCTION__ macro
- _INTEGRAL_MAX_BITS macro
- _ISO_VOLATILE macro
- _KERNEL_MODE macro
- __LINE__ macro
- _M_AMD64 macro
- _M_ARM macro
- _M_ARM_ARMV7VE macro
- _M_ARM_FP macro
- _M_ARM64 macro
- _M_CEE macro
- _M_CEE_PURE macro
- _M_CEE_SAFE macro
- _M_FP_EXCEPT macro
- _M_FP_FAST macro
- _M_FP_PRECISE macro
- _M_FP_STRICT macro
- _M_IX86 macro
- _M_IX86_FP macro
- _M_X64 macro
- _MANAGED macro
- _MFC_VER macro
- _MSC_BUILD macro
- _MSC_EXTENSIONS macro
- _MSC_FULL_VER macro
- _MSC_VER macro
- _MSVC_LANG macro
- __MSVC_RUNTIME_CHECKS macro
- _MT macro
- _NATIVE_WCHAR_T_DEFINED macro
- _NO_SIZED_DEALLOCATION macro
- _OPENMP macro
- _PREFAST_ macro
- _RESUMABLE_FUNCTIONS_SUPPORTED macro
- _RTC_CONVERSION_CHECKS_ENABLED macro
- __STDC__ macro
- __STDC_HOSTED__ macro
- __STDCPP_THREADS__ macro
- __TIME__ macro
- __TIMESTAMP__ macro
- __VA_ARGS__ macro
- _VC_NODEFAULTLIB macro
- _WCHAR_T_DEFINED macro
- _WIN32 macro
- _WIN64 macro
- _WINRT_DLL macro
- __func__ identifier
ms.assetid: 1cc5f70a-a225-469c-aed0-fe766238e23f
no-loc:
- _ATL_VER
- __ATOM__
- __AVX__
- __AVX2__
- __AVX512BW__
- __AVX512CD__
- __AVX512DQ__
- __AVX512F__
- __AVX512VL__
- _CHAR_UNSIGNED
- __CLR_VER
- _CONTROL_FLOW_GUARD
- __COUNTER__
- __cplusplus
- __cplusplus_cli
- __cplusplus_winrt
- _CPPRTTI
- _CPPUNWIND
- __DATE__
- _DEBUG
- _DLL
- __FILE__
- __FUNCDNAME__
- __FUNCSIG__
- __FUNCTION__
- _INTEGRAL_MAX_BITS
- _ISO_VOLATILE
- _KERNEL_MODE
- __LINE__
- _M_AMD64
- _M_ARM
- _M_ARM_ARMV7VE
- _M_ARM_FP
- _M_ARM64
- _M_CEE
- _M_CEE_PURE
- _M_CEE_SAFE
- _M_FP_EXCEPT
- _M_FP_FAST
- _M_FP_PRECISE
- _M_FP_STRICT
- _M_IX86
- _M_IX86_FP
- _M_X64
- _MANAGED
- _MFC_VER
- _MSC_BUILD
- _MSC_EXTENSIONS
- _MSC_FULL_VER
- _MSC_VER
- _MSVC_LANG
- __MSVC_RUNTIME_CHECKS
- _MT
- _NATIVE_WCHAR_T_DEFINED
- _NO_SIZED_DEALLOCATION
- _OPENMP
- _PREFAST_
- _RESUMABLE_FUNCTIONS_SUPPORTED
- _RTC_CONVERSION_CHECKS_ENABLED
- __STDC__
- __STDC_HOSTED__
- __STDCPP_THREADS__
- __TIME__
- __TIMESTAMP__
- __VA_ARGS__
- _VC_NODEFAULTLIB
- _WCHAR_T_DEFINED
- _WIN32
- _WIN64
- _WINRT_DLL
- __func__
ms.openlocfilehash: 91bfad94638866a9efd196bfec4234bc7d097c18
ms.sourcegitcommit: c21b05042debc97d14875e019ee9d698691ffc0b
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/09/2020
ms.locfileid: "84622114"
---
# <a name="predefined-macros"></a>Macros predefinidas

El compilador de C/C++ de Microsoft (MSVC) predefine ciertas macros de preprocesador en función del lenguaje (C o C++), el destino de compilación y las opciones del compilador elegidas.

MSVC admite las macros de preprocesador predefinidas que exige el estándar C99 de ANSI/ISO y los estándares C++14 y C++17 de ISO. La implementación también admite otras macros de preprocesador específicas de Microsoft. Algunas macros están definidas solo para entornos de compilación específicos o para opciones del compilador. Excepto donde se indique, las macros se definen en una unidad de traducción como si se hubieran especificado como argumentos de la **`/D`** opción del compilador. Cuando están definidas, el preprocesador expande las macros hasta los valores especificados antes de la compilación. Estas macros predefinidas no toman ningún argumento y no se pueden volver a definir.

## <a name="standard-predefined-identifier"></a>Identificador predefinido estándar

El compilador admite este identificador predefinido especificado por ISO C99 e ISO C++11.

- `__func__` Nombre no completo y sin adornar de la función de inclusión como una matriz **static const** de función local de **char**.

    ```cpp
    void example(){
        printf("%s\n", __func__);
    } // prints "example"
    ```

## <a name="standard-predefined-macros"></a>Macros predefinidas estándar

El compilador admite estas macros predefinidas especificadas por los estándares ISO C99 e ISO C++17.

- `__cplusplus` Se define como un valor literal entero cuando la unidad de traducción se compila como C++. De lo contrario, no se define.

- `__DATE__` La fecha de compilación del archivo de código fuente actual. La fecha es un literal de cadena de longitud constante con el formato *Mmm dd aaaa*. El nombre del mes *Mmm* es el mismo que el nombre de mes abreviado que genera la función [asctime](../c-runtime-library/reference/asctime-wasctime.md) de la biblioteca en tiempo de ejecución de C (CRT). El primer carácter de la fecha *dd* es un espacio si el valor es menor que 10. Esta macro siempre está definida.

- `__FILE__` Nombre del archivo de código fuente actual. `__FILE__` se expande a un literal de cadena de caracteres. Para asegurarse de que se muestra la ruta de acceso completa al archivo, use [ **`/FC`** (ruta de acceso completa del archivo de código fuente en diagnósticos)](../build/reference/fc-full-path-of-source-code-file-in-diagnostics.md). Esta macro siempre está definida.

- `__LINE__` Se define como el número de línea entero del archivo de código fuente actual. El valor de la macro `__LINE__` se puede cambiar con una directiva `#line`. Esta macro siempre está definida.

- `__STDC__`Se define como 1 solo cuando se compila como C y si [**`/Za`**](../build/reference/za-ze-disable-language-extensions.md) se especifica la opción del compilador. De lo contrario, no se define.

- `__STDC_HOSTED__` Se define como 1 si la implementación es una *implementación hospedada* que admite la biblioteca estándar completa requerida. De lo contrario, se define como 0.

- `__STDCPP_THREADS__` Se define como 1 solo si un programa puede tener más de un subproceso de ejecución y se compila como C++. De lo contrario, no se define.

- `__TIME__` Hora de traducción de la unidad de traducción preprocesada. La hora es un literal de cadena de caracteres con la forma *hh:mm:ss*, igual que la hora devuelta por la función [asctime](../c-runtime-library/reference/asctime-wasctime.md) de CRT. Esta macro siempre está definida.

## <a name="microsoft-specific-predefined-macros"></a>Macros predefinidas específicas de Microsoft

MSVC admite estas macros predefinidas adicionales.

- `__ATOM__`Se define como 1 cuando [**`/favor:ATOM`**](../build/reference/favor-optimize-for-architecture-specifics.md) se establece la opción del compilador y el destino del compilador es x86 o x64. De lo contrario, no se define.

- `__AVX__`Se define como 1 cuando [**`/arch:AVX`**](../build/reference/arch-x86.md) [**`/arch:AVX2`**](../build/reference/arch-x86.md) [**`/arch:AVX512`**](../build/reference/arch-x86.md) se establecen las opciones del compilador, o y el destino del compilador es x86 o x64. De lo contrario, no se define.

- `__AVX2__`Se define como 1 cuando [**`/arch:AVX2`**](../build/reference/arch-x86.md) [**`/arch:AVX512`**](../build/reference/arch-x86.md) se establece la opción del compilador o y el destino del compilador es x86 o x64. De lo contrario, no se define.

- `__AVX512BW__`Se define como 1 cuando [**`/arch:AVX512`**](../build/reference/arch-x86.md) se establece la opción del compilador y el destino del compilador es x86 o x64. De lo contrario, no se define.

- `__AVX512CD__`Se define como 1 cuando [**`/arch:AVX512`**](../build/reference/arch-x86.md) se establece la opción del compilador y el destino del compilador es x86 o x64. De lo contrario, no se define.

- `__AVX512DQ__`Se define como 1 cuando [**`/arch:AVX512`**](../build/reference/arch-x86.md) se establece la opción del compilador y el destino del compilador es x86 o x64. De lo contrario, no se define.

- `__AVX512F__`Se define como 1 cuando [**`/arch:AVX512`**](../build/reference/arch-x86.md) se establece la opción del compilador y el destino del compilador es x86 o x64. De lo contrario, no se define.

- `__AVX512VL__`Se define como 1 cuando [**`/arch:AVX512`**](../build/reference/arch-x86.md) se establece la opción del compilador y el destino del compilador es x86 o x64. De lo contrario, no se define.

- `_CHAR_UNSIGNED`Se define como 1 si el **`char`** tipo predeterminado es sin signo. Este valor se define cuando se establece la opción del compilador [ **`/J`** (el tipo de carácter predeterminado es sin signo)](../build/reference/j-default-char-type-is-unsigned.md) . De lo contrario, no se define.

- `__CLR_VER` Se define como un literal entero que representa la versión de Common Language Runtime (CLR) utilizada para compilar la aplicación. El valor se codifica con la forma `Mmmbbbbb`, donde `M` es la versión principal del runtime, `mm` es la versión secundaria del runtime y `bbbbb` es el número de compilación. `__CLR_VER`se define si [**`/clr`**](../build/reference/clr-common-language-runtime-compilation.md) se establece la opción del compilador. De lo contrario, no se define.

    ```cpp
    // clr_ver.cpp
    // compile with: /clr
    using namespace System;
    int main() {
       Console::WriteLine(__CLR_VER);
    }
    ```

- `_CONTROL_FLOW_GUARD`Se define como 1 cuando se establece la opción del compilador [ **`/guard:cf`** (habilitar protección de flujo de control)](../build/reference/guard-enable-control-flow-guard.md) . De lo contrario, no se define.

- `__COUNTER__` Se expande a un literal entero que comienza en 0. El valor se incrementa en 1 cada vez que se usa en un archivo de código fuente o en encabezados incluidos del archivo de código fuente. `__COUNTER__` recuerda su estado cuando se usan encabezados precompilados. Esta macro siempre está definida.

  En este ejemplo se usa `__COUNTER__` para asignar identificadores únicos a tres objetos diferentes del mismo tipo. El constructor `exampleClass` toma un entero como parámetro. En `main`, la aplicación declara tres objetos de tipo `exampleClass`, usando `__COUNTER__` como parámetro de identificador único:

    ```cpp
    // macro__COUNTER__.cpp
    // Demonstration of __COUNTER__, assigns unique identifiers to
    // different objects of the same type.
    // Compile by using: cl /EHsc /W4 macro__COUNTER__.cpp
    #include <stdio.h>

    class exampleClass {
        int m_nID;
    public:
        // initialize object with a read-only unique ID
        exampleClass(int nID) : m_nID(nID) {}
        int GetID(void) { return m_nID; }
    };

    int main()
    {
        // __COUNTER__ is initially defined as 0
        exampleClass e1(__COUNTER__);

        // On the second reference, __COUNTER__ is now defined as 1
        exampleClass e2(__COUNTER__);

        // __COUNTER__ is now defined as 2
        exampleClass e3(__COUNTER__);

        printf("e1 ID: %i\n", e1.GetID());
        printf("e2 ID: %i\n", e2.GetID());
        printf("e3 ID: %i\n", e3.GetID());

        // Output
        // ------------------------------
        // e1 ID: 0
        // e2 ID: 1
        // e3 ID: 2

        return 0;
    }
    ```

- `__cplusplus_cli`Definido como el valor literal entero 200406 cuando se compila como C++ y [**`/clr`**](../build/reference/clr-common-language-runtime-compilation.md) se establece una opción del compilador. De lo contrario, no se define. Cuando se define, `__cplusplus_cli` está activo en la unidad de traducción.

    ```cpp
    // cplusplus_cli.cpp
    // compile by using /clr
    #include "stdio.h"
    int main() {
       #ifdef __cplusplus_cli
          printf("%d\n", __cplusplus_cli);
       #else
          printf("not defined\n");
       #endif
    }
    ```

- `__cplusplus_winrt`Definido como el valor literal entero 201009 cuando se compila como C++ y se establece la opción del compilador [ **`/ZW`** (Windows Runtime compilación)](../build/reference/zw-windows-runtime-compilation.md) . De lo contrario, no se define.

- `_CPPRTTI`Se define como 1 si se establece la opción del compilador [ **`/GR`** (habilitar información de tipo en tiempo de ejecución)](../build/reference/gr-enable-run-time-type-information.md) . De lo contrario, no se define.

- `_CPPUNWIND`Se define como 1 si se establecen una o varias de las opciones del compilador ( [ **`/GX`** Habilitar control de excepciones)](../build/reference/gx-enable-exception-handling.md), [ **`/clr`** (compilación de Common Language Runtime)](../build/reference/clr-common-language-runtime-compilation.md)o [ **`/EH`** (modelo de control de excepciones)](../build/reference/eh-exception-handling-model.md) . De lo contrario, no se define.

- `_DEBUG`Se define como 1 cuando [**`/LDd`**](../build/reference/md-mt-ld-use-run-time-library.md) [**`/MDd`**](../build/reference/md-mt-ld-use-run-time-library.md) [**`/MTd`**](../build/reference/md-mt-ld-use-run-time-library.md) se establece la opción del compilador, o. De lo contrario, no se define.

- `_DLL`Se define como 1 cuando [**`/MD`**](../build/reference/md-mt-ld-use-run-time-library.md) [**`/MDd`**](../build/reference/md-mt-ld-use-run-time-library.md) se establece la opción del compilador o (DLL multiproceso). De lo contrario, no se define.

- `__FUNCDNAME__` Se define como literal de cadena que contiene el [nombre representativo](../build/reference/decorated-names.md) de la función de inclusión. La macro solo se define dentro de una función. La `__FUNCDNAME__` macro no se expande si usa la [**`/EP`**](../build/reference/ep-preprocess-to-stdout-without-hash-line-directives.md) [**`/P`**](../build/reference/p-preprocess-to-a-file.md) opción del compilador o.

   En este ejemplo se usan las macros `__FUNCDNAME__`, `__FUNCSIG__` y `__FUNCTION__` para mostrar la información de la función.

   [!code-cpp[NVC_Predefined_Macros_Examples#1](../preprocessor/codesnippet/CPP/predefined-macros_1.cpp)]

- `__FUNCSIG__` Se define como literal de cadena que contiene la firma de la función de inclusión. La macro solo se define dentro de una función. La `__FUNCSIG__` macro no se expande si usa la [**`/EP`**](../build/reference/ep-preprocess-to-stdout-without-hash-line-directives.md) [**`/P`**](../build/reference/p-preprocess-to-a-file.md) opción del compilador o. Cuando se compila para un destino de 64 bits, la convención de llamada es `__cdecl` de forma predeterminada. Para obtener un ejemplo de uso, vea la macro `__FUNCDNAME__`.

- `__FUNCTION__` Se define como literal de cadena que contiene el nombre no representativo de la función de inclusión. La macro solo se define dentro de una función. La `__FUNCTION__` macro no se expande si usa la [**`/EP`**](../build/reference/ep-preprocess-to-stdout-without-hash-line-directives.md) [**`/P`**](../build/reference/p-preprocess-to-a-file.md) opción del compilador o. Para obtener un ejemplo de uso, vea la macro `__FUNCDNAME__`.

- `_INTEGRAL_MAX_BITS` Se define como el valor literal entero 64, el tamaño máximo (en bits) para un tipo entero no vector. Esta macro siempre está definida.

   ```cpp
   // integral_max_bits.cpp
   #include <stdio.h>
   int main() {
      printf("%d\n", _INTEGRAL_MAX_BITS);
   }
   ```

- `__INTELLISENSE__` Se define como 1 durante un paso del compilador de IntelliSense en el IDE de Visual Studio. De lo contrario, no se define. Puede usar esta macro para proteger el código que el compilador de IntelliSense no entiende o para alternar entre la compilación y el compilador de IntelliSense. Para más información, vea [Sugerencias para la solución de problemas de ralentización de IntelliSense](https://devblogs.microsoft.com/cppblog/troubleshooting-tips-for-intellisense-slowness/).

- `_ISO_VOLATILE`Se define como 1 si [**`/volatile:iso`**](../build/reference/volatile-volatile-keyword-interpretation.md) se establece la opción del compilador. De lo contrario, no se define.

- `_KERNEL_MODE`Se define como 1 si se establece la opción del compilador [ **`/kernel`** (crear binario en modo kernel)](../build/reference/kernel-create-kernel-mode-binary.md) . De lo contrario, no se define.

- `_M_AMD64` Se define como el valor literal entero 100 para las compilaciones destinadas a procesadores x64. De lo contrario, no se define.

- `_M_ARM` Se define como el valor literal entero 7 para las compilaciones destinadas a procesadores ARM. De lo contrario, no se define.

- `_M_ARM_ARMV7VE`Se define como 1 cuando [**`/arch:ARMv7VE`**](../build/reference/arch-arm.md) se establece la opción del compilador para las compilaciones que tienen como destino Procesadores ARM. De lo contrario, no se define.

- `_M_ARM_FP`Definido como un valor literal entero que indica qué [**`/arch`**](../build/reference/arch-arm.md) opción del compilador se estableció para los destinos de procesador ARM. De lo contrario, no se define.

  - Un valor en el intervalo 30-39 si no **`/arch`** se especificó ninguna opción de ARM, lo que indica que se ha establecido la arquitectura predeterminada para ARM ( `VFPv3` ).

  - Un valor en el intervalo 40-49 si **`/arch:VFPv4`** se estableció.

  - Para obtener más información, vea [ **`/arch`** (ARM)](../build/reference/arch-arm.md).

- `_M_ARM64` Se define como 1 para las compilaciones destinadas a procesadores ARM de 64 bits. De lo contrario, no se define.

- `_M_CEE`Se define como 001 si se establece una opción del compilador [ **`/clr`** (Common Language Runtime](../build/reference/clr-common-language-runtime-compilation.md) Compilation). De lo contrario, no se define.

- `_M_CEE_PURE` En desuso a partir de Visual Studio 2015. Se define como 001 si [**`/clr:pure`**](../build/reference/clr-common-language-runtime-compilation.md) se establece la opción del compilador. De lo contrario, no se define.

- `_M_CEE_SAFE` En desuso a partir de Visual Studio 2015. Se define como 001 si [**`/clr:safe`**](../build/reference/clr-common-language-runtime-compilation.md) se establece la opción del compilador. De lo contrario, no se define.

- `_M_FP_EXCEPT`Se define como 1 si [**`/fp:except`**](../build/reference/fp-specify-floating-point-behavior.md) [**`/fp:strict`**](../build/reference/fp-specify-floating-point-behavior.md) se establece la opción del compilador o. De lo contrario, no se define.

- `_M_FP_FAST`Se define como 1 si [**`/fp:fast`**](../build/reference/fp-specify-floating-point-behavior.md) se establece la opción del compilador. De lo contrario, no se define.

- `_M_FP_PRECISE`Se define como 1 si [**`/fp:precise`**](../build/reference/fp-specify-floating-point-behavior.md) se establece la opción del compilador. De lo contrario, no se define.

- `_M_FP_STRICT`Se define como 1 si [**`/fp:strict`**](../build/reference/fp-specify-floating-point-behavior.md) se establece la opción del compilador. De lo contrario, no se define.

- `_M_IX86` Se define como el valor literal entero 600 para las compilaciones destinadas a procesadores x86. Esta macro no está definida para los destinos de compilación x64 o ARM.

- `_M_IX86_FP`Definido como un valor literal entero que indica la [**`/arch`**](../build/reference/arch-arm.md) opción del compilador que se estableció, o el valor predeterminado. Esta macro siempre se define cuando el destino de compilación es un procesador x86. De lo contrario, no se define. Cuando se define, el valor es:

  - 0 si la opción del compilador `/arch:IA32` se ha establecido.

  - 1 si la opción del compilador `/arch:SSE` se ha establecido.

  - 2 si la opción del compilador `/arch:SSE2`, `/arch:AVX`, `/arch:AVX2` o `/arch:AVX512` se ha establecido. Este valor es el predeterminado si no se ha especificado una opción del compilador `/arch`. Cuando se especifica `/arch:AVX`, la macro `__AVX__` también se define. Cuando se especifica `/arch:AVX2`, también se definen `__AVX__` y `__AVX2__`. Cuando `/arch:AVX512` se especifica, `__AVX__` `__AVX2__` `__AVX512BW__` `__AVX512CD__` `__AVX512DQ__` `__AVX512F__` `__AVX512VL__` también se definen,,,,, y.

  - Para obtener más información, vea [ **`/arch`** (x86)](../build/reference/arch-x86.md).

- `_M_X64` Se define como el valor literal entero 100 para las compilaciones destinadas a procesadores x64. De lo contrario, no se define.

- `_MANAGED`Se define como 1 cuando [**`/clr`**](../build/reference/clr-common-language-runtime-compilation.md) se establece la opción del compilador. De lo contrario, no se define.

- `_MSC_BUILD` Se define como un literal entero que contiene el elemento de número de revisión del número de versión del compilador. El número de revisión es el cuarto elemento del número de versión delimitado por puntos. Por ejemplo, si el número de versión del compilador de Microsoft C/C++ es 15.00.20706.01, la macro `_MSC_BUILD` se evalúa como 1. Esta macro siempre está definida.

- `_MSC_EXTENSIONS`Se define como 1 si se establece la opción de compilador activado por defecto [ **`/Ze`** (habilitar extensiones de lenguaje)](../build/reference/za-ze-disable-language-extensions.md) . De lo contrario, no se define.

- `_MSC_FULL_VER` Se define como un literal de entero que codifica los elementos principal, secundario y de compilación del número de versión del compilador. El número principal es el primer elemento del número de versión delimitado por puntos, el número secundario es el segundo elemento y el número de compilación es el tercer elemento. Por ejemplo, si el número de versión del compilador de Microsoft C/C++ es 15.00.20706.01, la macro `_MSC_FULL_VER` se evalúa como 150020706. Escriba `cl /?` en la línea de comandos para ver el número de versión del compilador. Esta macro siempre está definida.

- `_MSC_VER` Se define como un literal entero que codifica los elementos principal y secundario del número de versión del compilador. El número principal es el primer elemento del número de versión delimitado por puntos y el número secundario es el segundo elemento. Por ejemplo, si el número de versión del compilador de Microsoft C/C++ es 17.00.51106.1, la macro `_MSC_VER` se evalúa como 1700. Escriba `cl /?` en la línea de comandos para ver el número de versión del compilador. Esta macro siempre está definida.

   | Versión de Visual Studio | `_MSC_VER` |
   |--|--|
   | Visual Studio 6.0 | 1200 |
   | Visual Studio .NET 2002 (7.0) | 1300 |
   | Visual Studio .NET 2003 (7.1) | 1310 |
   | Visual Studio 2005 (8.0) | 1400 |
   | Visual Studio 2008 (9.0) | 1500 |
   | Visual Studio 2010 (10.0) | 1600 |
   | Visual Studio 2012 (11.0) | 1700 |
   | Visual Studio 2013 (12.0) | 1800 |
   | Visual Studio 2015 (14.0) | 1900 |
   | Visual Studio 2017 RTW (15.0) | 1910 |
   | Visual Studio 2017 versión 15.3 | 1911 |
   | Versión 15.5 de Visual Studio 2017 | 1912 |
   | Visual Studio 2017, versión 15.6 | 1913 |
   | Visual Studio 2017 versión 15.7 | 1914 |
   | Visual Studio 2017, versión 15.8 | 1915 |
   | Visual Studio 2017, versión 15.9 | 1916 |
   | Visual Studio 2019 RTW (16.0) | 1920 |
   | Visual Studio 2019, versión 16.1 | 1921 |
   | Visual Studio 2019, versión 16.2 | 1922 |
   | Visual Studio 2019 versión 16.3 | 1923 |
   | Visual Studio 2019 versión 16.4 | 1924 |
   | Visual Studio 2019, versión 16.5 | 1925 |
   | Visual Studio 2019 versión 16.6 | 1926 |
   | Visual Studio 2019 versión 16,7 | 1927 |

   Para probar las versiones o las actualizaciones del compilador en una versión concreta de Visual Studio o posterior, use el operador `>=`. Puede usarlo en una directiva condicional para comparar `_MSC_VER` con esa versión conocida. Si quiere comparar varias versiones mutuamente excluyentes, ordene las comparaciones por orden descendiente de número de versión. Por ejemplo, este código comprueba los compiladores publicados en Visual Studio 2017 y versiones posteriores. A continuación, comprueba los compiladores publicados en Visual Studio 2015 o versiones posteriores. Después, comprueba todos los compiladores publicados antes de Visual Studio 2015:

   ```cpp
   #if _MSC_VER >= 1910
   // . . .
   #elif _MSC_VER >= 1900
   // . . .
   #else
   // . . .
   #endif
   ```

   Para obtener más información, vea [Versión del compilador de Visual C++](https://devblogs.microsoft.com/cppblog/visual-c-compiler-version/) en el blog del equipo de Microsoft C++.

- `_MSVC_LANG` Se define como un literal entero que especifica el estándar de lenguaje de C++ de destino del compilador. Se establece solo en código compilado como C++. La macro es el valor literal entero 201402L de forma predeterminada, o cuando [**`/std:c++14`**](../build/reference/std-specify-language-standard-version.md) se especifica la opción del compilador. La macro se establece en 201703L si [**`/std:c++17`**](../build/reference/std-specify-language-standard-version.md) se especifica la opción del compilador. Se establece en un valor más alto, sin especificar, cuando [**`/std:c++latest`**](../build/reference/std-specify-language-standard-version.md) se especifica la opción. De lo contrario, la macro no se define. Las `_MSVC_LANG` Opciones de compilador macro y [ **`/std`** (especificar la versión estándar del lenguaje)](../build/reference/std-specify-language-standard-version.md) están disponibles a partir de Visual Studio 2015 Update 3.

- `__MSVC_RUNTIME_CHECKS`Se define como 1 cuando se establece una de las [**`/RTC`**](../build/reference/rtc-run-time-error-checks.md) Opciones del compilador. De lo contrario, no se define.

- `_MSVC_TRADITIONAL`Se define como 0 cuando [**`/experimental:preprocessor`**](../build/reference/experimental-preprocessor.md) se establece la opción del compilador del modo de cumplimiento del preprocesador. Se define como 1 de forma predeterminada, o cuando [**`/experimental:preprocessor-`**](../build/reference/experimental-preprocessor.md) se establece la opción del compilador, para indicar que el preprocesador tradicional está en uso. La `_MSVC_TRADITIONAL` opción del compilador macro y [ **`/experimental:preprocessor`** (Habilitar modo de conformidad del preprocesador)](../build/reference/experimental-preprocessor.md) está disponible a partir de la versión 15,8 de Visual Studio 2017.

   ```cpp
   #if defined(_MSVC_TRADITIONAL) && _MSVC_TRADITIONAL
   // Logic using the traditional preprocessor
   #else
   // Logic using cross-platform compatible preprocessor
   #endif
   ```

- `_MT`Definido como 1 cuando se especifica [ **`/MD`** o **`/MDd`** (DLL multiproceso)](../build/reference/md-mt-ld-use-run-time-library.md) o [ **`/MT`** o **`/MTd`** (multiproceso)](../build/reference/md-mt-ld-use-run-time-library.md) . De lo contrario, no se define.

- `_NATIVE_WCHAR_T_DEFINED`Se define como 1 cuando [**`/Zc:wchar_t`**](../build/reference/zc-wchar-t-wchar-t-is-native-type.md) se establece la opción del compilador. De lo contrario, no se define.

- `_OPENMP`Se define como literal entero 200203, si se establece la opción del compilador [ **`/openmp`** (Habilitar compatibilidad con OpenMP 2,0)](../build/reference/openmp-enable-openmp-2-0-support.md) . Este valor representa la fecha de la especificación de OpenMP implementada por MSVC. De lo contrario, no se define.

   ```cpp
   // _OPENMP_dir.cpp
   // compile with: /openmp
   #include <stdio.h>
   int main() {
      printf("%d\n", _OPENMP);
   }
   ```

- `_PREFAST_`Se define como 1 cuando [**`/analyze`**](../build/reference/analyze-code-analysis.md) se establece la opción del compilador. De lo contrario, no se define.

- `__TIMESTAMP__`Se define como un literal de cadena que contiene la fecha y hora de la última modificación del archivo de código fuente actual, en el formato de longitud constante abreviado devuelto por la función de CRT [`asctime`](../c-runtime-library/reference/asctime-wasctime.md) , por ejemplo, `Fri 19 Aug 13:32:58 2016` . Esta macro siempre está definida.

- `_VC_NODEFAULTLIB`Se define como 1 cuando se establece la opción del compilador [ **`/Zl`** (omitir nombre de biblioteca predeterminado)](../build/reference/zl-omit-default-library-name.md) . De lo contrario, no se define.

- `_WCHAR_T_DEFINED`Se define como 1 cuando [**`/Zc:wchar_t`**](../build/reference/zc-wchar-t-wchar-t-is-native-type.md) se establece la opción de compilador predeterminada. La `_WCHAR_T_DEFINED` macro está definida pero no tiene ningún valor si **`/Zc:wchar_t-`** se establece la opción del compilador y **`wchar_t`** se define en un archivo de encabezado del sistema incluido en el proyecto. De lo contrario, no se define.

- `_WIN32` Se define como 1 cuando el destino de compilación es ARM de 32 bits, ARM de 64 bits, x86 o x64. De lo contrario, no se define.

- `_WIN64` Se define como 1 cuando el destino de compilación es ARM de 64 bits o x64. De lo contrario, no se define.

- `_WINRT_DLL`Se define como 1 cuando se compila como C++ y se establecen las opciones de compilador [ **`/ZW`** (Windows Runtime compilación)](../build/reference/zw-windows-runtime-compilation.md) y [ **`/LD`** o **`/LDd`** ](../build/reference/md-mt-ld-use-run-time-library.md) . De lo contrario, no se define.

No hay ninguna macro de preprocesador que identifique la versión de la biblioteca ATL o MFC predefinida por el compilador. Los encabezados de la biblioteca ATL y MFC definen internamente estas macros de versión. No están definidas en las directivas de preprocesador creadas antes de incluir el encabezado necesario.

- `_ATL_VER`Definido en \<atldef.h> como un literal entero que codifica el número de versión de ATL.

- `_MFC_VER`Definido en \<afxver_.h> como un literal entero que codifica el número de versión de MFC.

## <a name="see-also"></a>Vea también

[Macros (C/C++)](../preprocessor/macros-c-cpp.md)<br/>
[Operadores de preprocesador](../preprocessor/preprocessor-operators.md)<br/>
[Directivas de preprocesador](../preprocessor/preprocessor-directives.md)
