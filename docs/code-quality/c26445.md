---
title: C26445
ms.date: 03/22/2018
ms.topic: reference
f1_keywords:
- C26445
helpviewer_keywords:
- C26445
ms.openlocfilehash: da652340ce099784d60a6e16173bd75caac833fa
ms.sourcegitcommit: 7bea0420d0e476287641edeb33a9d5689a98cb98
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/17/2020
ms.locfileid: "79466679"
---
# <a name="c26445-no_span_ref"></a>NO_SPAN_REF C26445

Una referencia a `gsl::span` o `std::string_view` puede ser una indicación de un problema de duración.
C++Directrices básicas: [GSL. View: vistas](https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#gslview-views)

La intención de esta regla es detectar problemas sutiles de duración que se pueden producir en el código que se ha migrado desde contenedores estándar a nuevos tipos de intervalo y de vista. Estos tipos se pueden considerar como "referencias a búferes". El uso de una referencia a un intervalo o una vista crea una capa adicional de direccionamiento indirecto. Este direccionamiento indirecto a menudo es innecesario y puede resultar confuso para los mantenedores. Además, los intervalos son baratas de copiar y pueden ser devueltos por el valor de las llamadas de función. Obviamente, nunca se debe hacer referencia a los resultados de la llamada.

## <a name="remarks"></a>Observaciones

- La regla detecta las referencias a GSL:: span < >, GSL:: basic_string_span < > y STD:: basic_string_view < > (incluidos los alias para las creaciones de instancias).
- Actualmente, las advertencias se emiten únicamente en las declaraciones y las instrucciones Return. Esto puede ampliarse en el futuro para marcar también los parámetros de la función.
- La implementación de esta regla es muy ligera no intenta realizar un seguimiento de la duración real. El uso de referencias puede seguir teniendo sentido en algunos escenarios. En estos casos, se pueden suprimir falsos positivos de forma segura.

## <a name="example-reference-to-a-temporary"></a>Ejemplo: referencia a un temporal

```cpp
// Old API - uses string reference to avoid data copy.
const std::string& get_working_directory() noexcept;

// New API – after migration to C++17 it uses string view.
std::string_view get_working_directory() noexcept;

// ...
// Client code which places an explicit reference in a declaration with auto specifier.
const auto &wd = get_working_directory(); // C26445 after API update.
```
